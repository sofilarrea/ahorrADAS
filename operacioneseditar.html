<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AhorrADAs</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📈</text></svg>"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <header class="navbar-section-reportes">
      <nav id="navbar" class="navbar">
        <div class="navbar-logo">
          <a href="index.html" class="flex">
            <i class="fa-solid fa-wallet" style="color: #ffffff;"></i>
            <h1>AhorrADAs</h1>
          </a>
        </div>
            <div class="nav-icon-controles">
                <a href="#navbar" id="open" class="open"><i class="fa-solid fa-bars" style="color: #ffffff;"></i></a>
                <a href="#" id="close" class="close"><i class="fa-solid fa-xmark" style="color: #ffffff;"></i></a>
            </div>
            <ul class="navbar-links" id="navbar-links">
              <li><i class="fas fa-chart-line mr-2" aria-hidden="true"></i><a href="index.html">Balance</a></li>
              <li><i class="fas fa-tag mr-2" aria-hidden="true"></i><a href="categoria.html">Categoria</a></li>
              <li><i class="fas fa-chart-pie mr-2" aria-hidden="true"></i><a href="reportes.html">Reportes</a></li>
          </ul>
        </nav>
    </header>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const params = new URLSearchParams(window.location.search);
        const indiceOperacion = params.get('index');

        const operaciones = JSON.parse(localStorage.getItem('operaciones')) || [];
        const operacion = operaciones[indiceOperacion];

        // Ahora puedes cargar los datos de la operación en los campos del formulario
        document.getElementById('nuevaOperacion-descripcion').value = operacion.descripcion;
        document.getElementById('nuevaOperacion-monto').value = operacion.monto;
        document.getElementById('nuevaOperacion-tipo').value = operacion.tipo;
        document.getElementById('nuevaOperacion-categoria').value = operacion.categoria;
        document.getElementById('nuevaOperacion-fecha').value = operacion.fecha;

        // Agrega el evento de envío del formulario para editar la operación
        document.getElementById('transaction-form').addEventListener('submit', function(event) {
            event.preventDefault();
            // Llama a una función para guardar la operación editada
            guardarOperacionEditada(indiceOperacion);
        });
    });



    </script>
  </head>

  <body>
    <!-- Header and Navigation -->
    <header class="navbar-section-reportes">
      <nav id="navbar" class="navbar">
        <div class="navbar-logo">
          <a href="index.html" class="flex">
            <i class="fa-solid fa-wallet" style="color: #ffffff;"></i>
            <h1>AhorrADAs</h1>
          </a>
        </div>
        <div class="nav-icon-controles">
          <a href="#navbar" id="open" class="open"><i class="fa-solid fa-bars" style="color: #ffffff;"></i></a>
          <a href="#" id="close" class="close"><i class="fa-solid fa-xmark" style="color: #ffffff;"></i></a>
        </div>
        <ul class="navbar-links" id="navbar-links">
          <li><i class="fas fa-chart-line mr-2" aria-hidden="true"></i><a href="index.html">Balance</a></li>
          <li><i class="fas fa-tag mr-2" aria-hidden="true"></i><a href="categoria.html">Categoria</a></li>
          <li><i class="fas fa-chart-pie mr-2" aria-hidden="true"></i><a href="reportes.html">Reportes</a></li>
        </ul>
      </nav>
    </header>
    <!-- New Operation Form -->
    <div class="bg-gray-100 flex items-center justify-center min-h-screen">
      <div id="form-container" class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md transition-transform transform scale-100">
          <h3 class="text-2xl font-bold mb-4">Editar operación</h3>
          <form id="transaction-form" onsubmit="guardarOperacionEditada(event)" action="#" method="post">
              <div class="mb-4">
                  <label for="nuevaOperacion-descripcion" class="block text-gray-700 font-bold mb-2">Descripción:</label>
                  <input type="text" id="nuevaOperacion-descripcion" name="descripcion" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
              </div>
              <div class="mb-4">
                  <label for="nuevaOperacion-monto" class="block text-gray-700 font-bold mb-2">Monto:</label>
                  <input type="number" id="nuevaOperacion-monto" name="monto" step="0.01" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
              </div>
              <div class="mb-4">
                  <label for="nuevaOperacion-tipo" class="block text-gray-700 font-bold mb-2">Tipo:</label>
                  <select id="nuevaOperacion-tipo" name="tipo" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                      <option value="ingreso">Gasto</option>
                      <option value="egreso">Ganancia</option>
                  </select>
              </div>
              <div class="mb-4">
                  <label for="nuevaOperacion-categoria" class="block text-gray-700 font-bold mb-2">Categoría:</label>
                  <select id="nuevaOperacion-categoria" name="categoria" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                      <option value="comida">Comida</option>
                      <option value="servicio">Servicios</option>
                      <option value="salida">Ssalidas</option>
                      <option value="educacion">Educación</option>
                      <option value="transporte">Transporte</option>
                      <option value="trabajo">Trabajo</option>
                  </select>
              </div>
              <div class="mb-4">
                  <label for="nuevaOperacion-fecha" class="block text-gray-700 font-bold mb-2">Fecha:</label>
                  <input type="date" id="nuevaOperacion-fecha" name="fecha" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
              </div>
              <div class="flex justify-end">
                  <button type="button" id="cancelar" class="boton border-solid border-2 border-greenBtn rounded-r py-2 px-4 text-sm">Cancelar</button>
                  <button type="submit" class="bg-green-500 text-white p-2 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">Guardar</button>
              </div>
          </form>
      </div>
  </div>


    <script src="/js/main.js"></script>
    </body>
    </html>
